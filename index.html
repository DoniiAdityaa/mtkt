<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        body {
            background-image: url(download.jpg);
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            margin-top: 40px;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col"></div>
            <div class="col">
                <div class="card mt-3">
                    <div class="card-header">
                        Form Login
                    </div>
                    <div class="card-body">
                        <div id="message">

                        </div>
                        <div class="mb-3">
                            <label for="">Email</label>
                            <input type="email" id="emailinput" placeholder="Masukkan Email" class="form-control">
                        </div>

                        <div class="mb-3">
                            <label for="">Sandi</label>
                            <input type="password" id="passwordinput" placeholder="Masukkan Sandi" class="form-control">
                            <input type="checkbox" id="chk"> Lihat Sandi
                        </div>
                    </div>
                    <!-- <div>
                        <input type="password" id="pwd"> 
                        <input type="checkbox" id="chk"> Show Sandi 
                    </div> -->

                    <div class="card-footer">
                        <button class="btn btn-primary" id="btnlogin">Login</button>
                    </div>
                </div>
            </div>
            <div class="col"></div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <script>
        const emailinput = document.querySelector('#emailinput')
        const passwordinput = document.querySelector('#passwordinput')
        const btnlogin = document.querySelector('#btnlogin')
        const message = document.querySelector('#message')
        const chk = document.getElementById("chk")

        chk.onchange = function (e) {
            passwordinput.type = chk.checked ? "teks" : "password";
        };


        let database = [
            {
                'email': 'mtk@gmail.com',
                'password': '123'
            },
        ]
        btnlogin.addEventListener('click', () => {
            message.innerHTML = ''
            let email = emailinput.value;
            let password = passwordinput.value;
            let validate = true
            if (email === '') {
                validate = false
                message.innerHTML += '<div class="alert alert-danger">Email Tidak Boleh Kosong</div>'
            }
            if (password === '') {
                validate = false
                message.innerHTML += '<div class="alert alert-danger">Sandi Tidak Boleh Kosong</div>'
            }

            if (validate) {
                let success = { 'email': false, 'password': false }
                for (let i = 0; i < database.length; i++) {
                    if (email == database[i]['email']) {
                        success.email = true
                        if (password == database[i]['password']) {
                            success.password = true
                        }
                    }
                }
                if (success.email) {
                    if (success.password) {
                        document.location.href = 'mtk.html'
                    } else {
                        message.innerHTML = '<div class="alert alert-danger">Sandi salah</div>'

                    }
                } else (
                    message.innerHTML = '<div class="alert alert-danger">Email tidak dikenali</div>'
                )
            }

        })

        // const passwordinput = document.getElementById("passwordinput")
    </script>
</body>

</html>